version: '3'
services:
  grafana:
    image: grafana/grafana:latest
    container_name: grafana_so1
    ports:
      - "3000:3000"
    environment:
      # Esto instala el plugin de SQLite autom√°ticamente al iniciar
      - GF_INSTALL_PLUGINS=frser-sqlite-datasource
    volumes:
      # Mapeamos el archivo de base de datos dentro del contenedor
      - ../go-daemon/metrics.db:/var/lib/grafana/metrics.db:ro

      # Volumen para persistir los datos de Grafana
      - ./grafana_data:/var/lib/grafana